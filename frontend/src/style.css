/* ====== 全局变量 ====== */
:root{
  --maxw: 1120px;
  --gap: 16px;
  --radius: 12px;
  --shadow: 0 6px 18px rgba(0,0,0,.06);
  --card-bg: #fff;
  --muted: #6b7280;
  --brand: #42b983;
  --brand-700:#2e8e66;
  --border:#e5e7eb;
  --bg:#f7f8fa;
}

/* ====== 基础 ====== */
html,body{ background: var(--bg); }
#app{
  max-width: var(--maxw);
  margin: 28px auto 40px;
  padding: 0 20px;
  color:#111827;
  line-height:1.5;
}

/* ====== 标题、导航 ====== */
header{ margin-bottom: 16px; }
header h1{ font-size: 28px; margin: 0 0 10px; }
.nav{ display:flex; gap:10px; flex-wrap:wrap; }
.nav button{
  background:#fff; border:1px solid var(--border);
  padding:8px 14px; border-radius: 999px; transition:.15s ease;
}
.nav button.active{ background: var(--brand); color:#fff; border-color: var(--brand); }
.nav button:hover{ transform: translateY(-1px); }

/* ====== 卡片/容器 ====== */
.card,
.form-container,
.asset-list-container,
.transaction-container,
.placeholder,
.chart-container,
.toolbar,
.data-table-wrap{
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
}
.muted{ color: var(--muted); }

/* ======（默认设计中的两栏，保持以便需要时恢复）
.page{ display:grid; grid-template-columns: 1.2fr 1fr; gap: var(--gap); align-items:start; }
.budget-page .budget-grid{ display:grid; grid-template-columns: 1fr 1.3fr; gap: var(--gap); }
.column{ display:flex; flex-direction:column; gap: var(--gap); }
*/

/* ====== 表单/按钮 ====== */
input,select,button,textarea{
  font: inherit;
  border-radius: 10px;
  border: 1px solid var(--border);
  padding: 10px 12px;
  background:#fff;
  box-sizing: border-box;
}
button{
  background: var(--brand); color:#fff; border:none; cursor:pointer;
}
button:hover{ background: var(--brand-700); }
.btn{ background:#fff; border:1px solid var(--border); color:#111; }
.btn.ghost{ background:#fafafa; }
.toggle-btn{ background:#fff; border:1px solid var(--border); color:#111; padding:6px 10px; }

/* 删除按钮 */
.delete-btn{ background:#fee2e2; color:#b91c1c; border:none; width:28px; height:28px; }
.delete-btn:hover{ background:#fecaca; }

/* ====== 资产列表 ====== */
.asset-list-container ul{ list-style:none; margin:0; padding:0; }
.asset-list-container li{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px; border:1px solid var(--border);
  border-radius: 10px; margin-bottom:10px; background:#fff;
}
.asset-list-container li.selected{ outline:2px solid var(--brand); }
.asset-info{ display:flex; flex-direction:column; gap:2px; }
.asset-type{ font-size:12px; color:var(--muted); }
.value-form{ display:flex; gap:10px; }
.transaction-form{ display:flex; gap:10px; }

/* ====== 图表 ====== */
.chart-container{ height: 360px; }
.chart{ height: 100%; }

/* ====== 表格（预算） ====== */
.data-table { width:100%; border-collapse: collapse; }
.data-table th, .data-table td{
  border-bottom:1px solid var(--border);
  padding:10px; text-align:left;
}
.data-table tfoot td{ border-top:2px solid var(--border); font-weight:600; }
.table-toolbar{ display:flex; gap:8px; align-items:center; margin-bottom:6px; }

/* 搜索下拉 */
.search-list{
  border:1px solid var(--border); border-radius: 10px;
  margin:6px 0 0; padding: 4px; max-height: 180px; overflow:auto; background:#fff;
}
.search-list li{ padding:6px 8px; border-bottom:1px solid #f1f1f1; }
.search-list li:last-child{ border-bottom:0; }
.search-input-wrapper{ position: relative; }
.loading-spinner{
  position:absolute; right:10px; top:50%; transform: translateY(-50%);
  width:18px; height:18px; border:3px solid rgba(0,0,0,.1); border-left-color: var(--brand);
  border-radius:50%; animation: spin 1s linear infinite;
}
@keyframes spin { to{ transform: translateY(-50%) rotate(360deg); }}

/* 主页卡片 */
.home .hero{ padding: 20px; }
.quick-cards{ display:grid; grid-template-columns: repeat(2,1fr); gap: var(--gap); }
@media (max-width: 720px){ .quick-cards{ grid-template-columns: 1fr; } }

/* ====== KPI 小胶囊 ====== */
.pill{ padding:6px 10px; border-radius:999px; background:#f3f4f6; font-weight:600; }
.pill.good{ background:#e8f6ef; color:#20744e; }
.pill.bad{ background:#fdeeed; color:#b12f2f; }

/* ====== 手机优先适配 ====== */
@media (max-width: 980px){
  /* 如果将来需要两栏，这里也会变单列 */
  .page{ grid-template-columns: 1fr; }
  .budget-page .budget-grid{ grid-template-columns: 1fr; }
}

/* ------- 手机端：更紧凑 ------- */
@media (max-width: 768px) {
  #app { padding: 12px; }
  header .nav { display: grid; grid-template-columns: 1fr; gap: 8px; }
  header .nav button { width: 100%; }
  .row { flex-direction: column; gap: 8px; }
  input, select, button, textarea { width: 100%; }
  .chart-container { height: 280px; }
  .sticker { position: static; top: auto; z-index: auto; }
  .table-scroll { overflow-x: auto; -webkit-overflow-scrolling: touch; }
  .data-table th, .data-table td { white-space: nowrap; }
  .card { padding: 14px; }
}

/* ------- <1024px 也单列（可选） ------- */
@media (max-width: 1024px) {
  .budget-2col-grid { grid-template-columns: 1fr; }
}

/* ============ 全站强制单列（所有分辨率） ============ */
/* ——如果你以后想恢复两栏，把这一块注释掉即可—— */
.page,
.budget-page .budget-grid,
.budget-2col-grid {
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: var(--gap) !important;
  align-items: start !important;
}
.row { display: block !important; }
.column, .leftcol, .rightcol, .col-left, .col-right {
  width: 100% !important; max-width: 100% !important;
}
.card,
.form-container,
.asset-list-container,
.transaction-container,
.placeholder,
.chart-container,
.toolbar,
.data-table-wrap {
  width: 100% !important; box-sizing: border-box !important;
}
.kpi-row, .quick-cards {
  display: grid !important; grid-template-columns: 1fr !important; gap: var(--gap) !important;
}
.sticker{ position: static !important; top:auto !important; z-index:auto !important; }
header .nav{
  display:grid !important; grid-template-columns:1fr !important; gap:8px !important;
}
header .nav button,
button, input, select, textarea{
  width:100% !important;
}
.table-scroll{ overflow-x:auto !important; -webkit-overflow-scrolling:touch !important; }
.data-table th, .data-table td{ white-space:nowrap !important; }
.chart-container{ height: 320px !important; }
